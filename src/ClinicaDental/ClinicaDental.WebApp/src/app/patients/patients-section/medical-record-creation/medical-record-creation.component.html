<h2 style="text-align: center;">Nuevo Registro</h2>
<form [formGroup]="medicalRecordForm" (ngSubmit)="submitForm()">
    <label>
      Doctor ID:
      <input formControlName="doctorId" type="number" />
    </label>
  
    <label>
      <input formControlName="patientId" type="number" hidden/>
    </label>
  
    <label>
      Comentario:
      <textarea formControlName="coment"></textarea>
    </label>
  
    <div formArrayName="diagnosis">
        <h3>Diagnosticos</h3>
        <button type="button" (click)="addDiagnosis()">Añadir diagnosticos</button>
        <div *ngFor="let diag of diagnosis.controls; let i = index" [formGroupName]="i">
          <label>Nombre: <input formControlName="name" /></label>
          <label>Descripción: <input formControlName="description" /></label>
          <div formArrayName="treatments">
            <h4>Tratamientos</h4>
            <button type="button" (click)="addTreatment(i)">Añadir Tratamiento</button>
            <div *ngFor="let treat of getTreatments(i).controls; let j = index" [formGroupName]="j">
                <label>Descripción: <input formControlName="description" /></label>
                <label>Dosis: <input formControlName="dose" /></label>
              </div>               
          </div>
        </div>
      </div>
    
    <div formArrayName="teeths">
      <h3>Dientes</h3>
      <button type="button" (click)="addTeeth()">Añadir diente</button>
      <div *ngFor="let tooth of teeths.controls; let i = index" [formGroupName]="i">
        <label>Nombre: <input formControlName="name" /></label>
        <label>Descripción: <input formControlName="description" /></label>
        <label>
          Es Supernumerario?:
          <input formControlName="isSuperNumerary" type="checkbox" />
        </label>
      </div>
    </div>
  
    <div formArrayName="medicalProcedures">
      <h3>Procedimientos Médicos</h3>
      <button type="button" (click)="addMedicalProcedure()">Añadir procedimiento médico</button>
      <div *ngFor="let proc of medicalProcedures.controls; let i = index" [formGroupName]="i">
        <label>Nombre: <input formControlName="name" /></label>
        <label>Descripción: <input formControlName="description" /></label>
        <label>Costo: <input formControlName="procedureCost" type="number" min="0"/></label>
      </div>
    </div>
  
    <button type="submit">Submit</button>
  </form>
  